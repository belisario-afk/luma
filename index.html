<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Luma — Audio‑Reactive Meditation Visualizer</title>
  <meta name="description" content="Luma is a Spotify-connected, audio-reactive visualization and meditation web app." />
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./public/favicon.ico" />
  <link rel="stylesheet" href="./src/styles/main.css" />
  <link rel="stylesheet" href="./src/styles/themes.css" />
</head>
<body class="font-inter min-h-screen bg-[color:var(--bg)] text-[color:var(--fg)] transition-colors duration-700">
  <!-- Navbar -->
  <header id="navbar" class="fixed top-0 left-0 right-0 z-40"></header>

  <!-- UI overlay container (auto hides after inactivity) -->
  <div id="ui-overlay" class="ui-overlay z-30 pointer-events-auto">
    <div class="max-w-6xl mx-auto px-4 py-3 flex flex-col gap-3">
      <!-- Player Controls -->
      <section id="player-controls" class="bg-white/10 backdrop-blur-sm rounded-xl p-3 shadow-glow"></section>
      <!-- Scene / Preset Selector -->
      <section id="scene-selector" class="bg-white/10 backdrop-blur-sm rounded-xl p-3 shadow-glow"></section>
    </div>
  </div>

  <!-- Canvas container -->
  <main id="canvas-root" class="w-full h-screen"></main>

  <!-- Hidden audio element for preview or local playback -->
  <audio id="audio-el" crossorigin="anonymous" hidden></audio>

  <!-- Spotify Web Playback SDK -->
  <script>
    window.onSpotifyWebPlaybackSDKReady = function() {
      window.dispatchEvent(new Event('spotify-sdk-ready'));
    };
  </script>
  <script src="https://sdk.scdn.co/spotify-player.js"></script>

  <!-- Three.js (module) -->
  <script type="module">
    // Preload Three.js module early for faster first frame
    import 'https://unpkg.com/three@0.160.0/build/three.module.js';
  </script>

  <!-- App entry -->
  <script type="module" src="./src/scripts/app.js"></script>
</body>
</html>